<%- include("./layouts/header.ejs") %>

<style>
  body {
    background-color: #2B2B2B;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1600 800'%3E%3Cg %3E%3Cpolygon fill='%23262626' points='800 100 0 200 0 800 1600 800 1600 200'/%3E%3Cpolygon fill='%23222222' points='800 200 0 400 0 800 1600 800 1600 400'/%3E%3Cpolygon fill='%231d1d1d' points='800 300 0 600 0 800 1600 800 1600 600'/%3E%3Cpolygon fill='%23191919' points='1600 800 800 400 0 800'/%3E%3Cpolygon fill='%23141414' points='1280 800 800 500 320 800'/%3E%3Cpolygon fill='%23101010' points='533.3 800 1066.7 800 800 600'/%3E%3Cpolygon fill='%230B0B0B' points='684.1 800 914.3 800 800 700'/%3E%3C/g%3E%3C/svg%3E");
    background-attachment: fixed;
    background-size: cover;
    color: #f8f9fa;
  }

  .blog-list {
    padding: 60px 0;
  }

  .blog-box {
    background-color: #1c1f26;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 0 20px rgba(0, 255, 100, 0.1);
    margin-bottom: 30px;
    transition: transform 0.2s ease-in-out;
    display: flex;
    flex-direction: column;
    height: 100%;
    /* Make all cards the same height */
  }

  .blog-box:hover {
    transform: translateY(-5px);
  }

  .blog-box img {
    width: 100%;
    height: 210px;
    /* Fixed height */
    object-fit: fill;
    /* Maintain aspect ratio */
    display: block;
  }

  .blog-box h3 {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 15px 20px 10px;
    color: #ffffff;
  }

  .blog-box p {
    margin: 0 20px 10px;
    color: #cccccc;
  }

  .blog-box span {
    color: #30d98f;
    font-weight: 500;
  }

  .blog-box .btn {
    margin: 15px 20px 20px;
    background-color: #dc3545;
    border-color: #dc3545;
    color: #fff;
    padding: 6px 14px;
    font-size: 14px;
    border-radius: 5px;
    margin-top: auto;
    /* Push button to bottom */
  }

  .blog-box .btn:hover {
    background-color: #c82333;
    border-color: #bd2130;
  }

  h1 {
    text-align: center;
    margin-bottom: 40px;
    color: #30d98f;
    font-weight: bold;
  }
</style>

<section class="blog-list">
  <div class="container">
    <h1>All Blogs</h1>
    <div class="row">
      <% blogs.forEach((blog)=>{ %>
      <div class="col-md-4 d-flex mb-5">
        <div class="blog-box w-100">
          <img src="<%= blog? blog.image.url : "" %>" alt="Blog Image">
          <h3><%= blog.title %></h3>
          <p>by <span>Arpit Mittal</span> on
            <span><%= new Date(blog.createdAt).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
              }) %></span>
          </p>
          <p><%= blog.description.length > 100 
              ? blog.description.slice(0, 80) + '...' 
              : blog.description 
            %></p>
          <a href="/blog-details/<%= blog._id %>" class="btn btn-danger">Read more...</a>
        </div>
      </div>
      <% }) %>
    </div>
  </div>
</section>

<%- include("./layouts/footer.ejs") %>